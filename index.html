<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Multi-Model AR with A-Frame</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <!-- AR.js library for Web AR functionality -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
      /* Basic styling to ensure the A-Frame scene covers the whole screen */
      body { margin: 0; overflow: hidden; }
      #ar-message {
        position: absolute;
        top: 20px;
        width: 100%;
        text-align: center;
        color: white;
        background-color: rgba(0, 0, 0, 0.5);
        padding: 10px;
        box-sizing: border-box;
        font-family: sans-serif;
        z-index: 99; /* Ensure message is on top */
      }
    </style>
  </head>
  <body>
    <!-- Message to guide the user in AR -->
    <div id="ar-message">
      Move your device around to detect surfaces. Tap to place models.
    </div>

    <!-- A-Frame scene configured for AR -->
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">

      <!-- First 3D Model: Astronaut -->
      <!-- gltf-model component loads external GLB/GLTF models -->
      <!-- Adjust position to place it in front of the camera.
           -Z values mean 'further into the scene' from the camera.
           X, Y, Z are relative to the AR origin once a surface is detected and placed. -->
      <a-entity
        gltf-model="https://modelviewer.dev/shared-assets/models/Astronaut.glb"
        scale="0.5 0.5 0.5"  <!-- Adjust size -->
        position="-0.5 0.2 -1" <!-- X: left/right, Y: up/down, Z: forward/backward -->
        shadow
      ></a-entity>

      <!-- Second 3D Model: A Simple Sphere -->
      <!-- You can replace this with another gltf-model if you have a URL for it -->
      <a-sphere
        color="blue"
        radius="0.3"
        position="0.5 0.2 -1.2" <!-- Placed slightly to the right and further back than astronaut -->
        shadow
      ></a-sphere>

      <!-- Optional: Add a simple plane to help with shadow casting and ground detection -->
      <a-plane
        position="0 0 0"
        rotation="-90 0 0"
        width="2"
        height="2"
        color="#7BC8A4"
        transparent="true"
        opacity="0" <!-- Make the plane invisible but still cast/receive shadows -->
        shadow
      ></a-plane>

      <!-- The camera that views the real world and overlays the 3D objects -->
      <!-- arjs handles camera setup, so simple a-entity camera is often enough -->
      <a-entity camera></a-entity>
    </a-scene>

    <script>
      // You might want to remove the message once AR starts or a surface is found
      document.querySelector('a-scene').addEventListener('arjs-original-ar-init', function () {
        console.log('AR.js initialized!');
        // You could hide the message here if you want
        // document.getElementById('ar-message').style.display = 'none';
      });

      document.querySelector('a-scene').addEventListener('arjs-marker-found', function (evt) {
        console.log('Surface marker found! Hiding message.');
        document.getElementById('ar-message').style.display = 'none';
      });

      document.querySelector('a-scene').addEventListener('arjs-marker-lost', function (evt) {
        console.log('Surface marker lost! Showing message.');
        document.getElementById('ar-message').style.display = 'block';
      });
    </script>
  </body>
</html>
